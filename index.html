<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#ffd0e5">
  <title>I Have a Question...</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(180deg, #ffd0e5 0%, #ffe8f2 36%, #fff5f9 100%);
      min-height: 100vh;
      min-height: -webkit-fill-available;
      overflow: hidden;
      position: relative;
    }

    /* Floating hearts background */
    .hearts-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .floating-heart {
      position: absolute;
      bottom: -50px;
      opacity: 0.15;
      animation: floatUp linear infinite;
      font-size: 24px;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0) rotate(0deg) scale(1);
        opacity: 0.15;
      }
      50% {
        opacity: 0.25;
      }
      100% {
        transform: translateY(-110vh) rotate(360deg) scale(0.5);
        opacity: 0;
      }
    }

    /* Main container */
    .main {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      min-height: -webkit-fill-available;
      padding: 20px;
      position: relative;
      z-index: 1;
    }

    .card {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      max-width: 400px;
      width: 100%;
    }

    /* GIF display */
    .gif-container {
      width: 250px;
      height: 250px;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(189, 30, 89, 0.15);
      margin-bottom: 24px;
      background: #fff;
    }

    .gif-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* Question text */
    .question {
      font-size: 26px;
      font-weight: 700;
      color: #bd1e59;
      margin-bottom: 32px;
      line-height: 1.3;
      transition: all 0.3s ease;
    }

    /* Buttons */
    .buttons {
      display: flex;
      gap: 16px;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn-yes {
      background: linear-gradient(135deg, #4ade80, #22c55e);
      color: white;
      border: none;
      border-radius: 16px;
      font-family: 'Quicksand', sans-serif;
      font-weight: 700;
      font-size: 20px;
      padding: 14px 32px;
      cursor: pointer;
      transition: all 0.3s ease;
      animation: pulse 1.5s ease-in-out infinite;
      box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
      min-width: 80px;
    }

    .btn-yes:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(34, 197, 94, 0.4);
    }

    .btn-yes:active {
      transform: scale(0.98);
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.08); }
    }

    .btn-no {
      background: linear-gradient(135deg, #f87171, #ef4444);
      color: white;
      border: none;
      border-radius: 16px;
      font-family: 'Quicksand', sans-serif;
      font-weight: 700;
      font-size: 16px;
      padding: 12px 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(239, 68, 68, 0.2);
      min-width: 70px;
    }

    .btn-no:hover {
      background: linear-gradient(135deg, #ef4444, #dc2626);
    }

    .btn-no:active {
      transform: scale(0.95);
    }

    /* Success state */
    .success-message {
      display: none;
      flex-direction: column;
      align-items: center;
      text-align: center;
      animation: fadeInUp 0.6s ease;
    }

    .success-message .emoji {
      font-size: 48px;
      margin-bottom: 12px;
      animation: heartBeat 1s ease infinite;
    }

    .success-message .text {
      font-size: 28px;
      font-weight: 700;
      color: #bd1e59;
      line-height: 1.4;
    }

    .success-message .subtext {
      font-size: 18px;
      color: #e84393;
      margin-top: 8px;
      font-weight: 600;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes heartBeat {
      0%, 100% { transform: scale(1); }
      25% { transform: scale(1.1); }
      50% { transform: scale(1); }
      75% { transform: scale(1.15); }
    }

    /* Shake animation for "wrong answer" */
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }

    .shake {
      animation: shake 0.5s ease;
    }

    /* Responsive */
    @media (max-height: 700px) {
      .gif-container {
        width: 200px;
        height: 200px;
      }
      .question {
        font-size: 22px;
        margin-bottom: 24px;
      }
    }

    @media (max-height: 600px) {
      .gif-container {
        width: 160px;
        height: 160px;
        margin-bottom: 16px;
      }
      .question {
        font-size: 20px;
        margin-bottom: 16px;
      }
    }
  </style>
</head>
<body>

  <!-- Floating hearts background -->
  <div class="hearts-container" id="heartsContainer"></div>

  <main class="main">
    <section class="card">
      <div class="gif-container">
        <img id="gifDisplay" src="https://media.tenor.com/gUiu1zyxfzYAAAAi/bear-love.gif" alt="Cute bear" />
      </div>

      <h1 id="question" class="question">Will you be my Valentine?</h1>

      <div id="buttons" class="buttons">
        <button id="yesBtn" class="btn-yes">Yes!</button>
        <button id="noBtn" class="btn-no">No</button>
      </div>

      <div id="successMsg" class="success-message">
        <div class="emoji">&#10084;&#65039;</div>
        <div class="text">YAYYY!! I knew you'd say yes!</div>
        <div class="subtext">You just made me the happiest person ever</div>
      </div>
    </section>
  </main>

  <script>
    (() => {
      const yesBtn = document.getElementById('yesBtn');
      const noBtn = document.getElementById('noBtn');
      const gifDisplay = document.getElementById('gifDisplay');
      const question = document.getElementById('question');
      const buttons = document.getElementById('buttons');
      const successMsg = document.getElementById('successMsg');

      const GROWTH = 20;
      const FONT_GROWTH = 4;
      const MAX_CLICKS = 7;

      // Tenor GIF URLs (cute bear/cat theme)
      const GIFS = [
        'https://media.tenor.com/gUiu1zyxfzYAAAAi/bear-love.gif',           // default - bear with hearts
        'https://media.tenor.com/mJCkR6HKWP0AAAAi/cute-adorable.gif',       // pleading
        'https://media.tenor.com/epNKMpSMb0kAAAAi/milk-and-mocha-sad.gif',   // sad bears
        'https://media.tenor.com/dGBtoqLsh2AAAAAi/brown-bear-crying.gif',    // crying
        'https://media.tenor.com/_bP2UKh1w38AAAAi/milk-and-mocha-bear-couple.gif', // begging
        'https://media.tenor.com/rTn2KYa_GNEAAAAC/milk-and-mocha.gif',      // really sad
        'https://media.tenor.com/TmvkJjBc_RgAAAAi/milk-mocha.gif',          // devastated
        'https://media.tenor.com/ISflkbNStJQAAAAi/milk-and-mocha.gif',       // celebration!
      ];

      const NO_MESSAGES = [
        'No',
        'Are you sure? ðŸ¥º',
        'Really really sure?',
        'Pookie please...',
        "That's not the right answer!",
        "You're breaking my heart ðŸ’”",
        "I'm gonna cry...",
        "Please? ðŸ˜­ðŸ˜­ðŸ˜­",
      ];

      const QUESTION_MESSAGES = [
        'Will you be my Valentine?',
        'Will you be my Valentine? ðŸ¥º',
        'Pleaseee be my Valentine?',
        'Pretty please with a cherry on top?',
        "C'mon, you know you want to say yes!",
        'I promise to make you smile every day!',
        "There's only one right answer here...",
        'Last chance... Will you be my Valentine?',
      ];

      let noCount = 0;
      let btnH = 48;
      let btnW = 90;
      let fontSize = 20;

      // Preload GIFs
      GIFS.forEach(src => { const img = new Image(); img.src = src; });

      noBtn.addEventListener('click', () => {
        if (noCount >= MAX_CLICKS) {
          // After max clicks, the No button just shakes
          noBtn.classList.add('shake');
          setTimeout(() => noBtn.classList.remove('shake'), 500);
          return;
        }

        noCount++;

        // Update GIF
        gifDisplay.src = GIFS[Math.min(noCount, GIFS.length - 2)];

        // Update question text
        question.textContent = QUESTION_MESSAGES[Math.min(noCount, QUESTION_MESSAGES.length - 1)];

        // Grow the Yes button
        btnH += GROWTH;
        btnW += GROWTH;
        fontSize += FONT_GROWTH;

        yesBtn.style.height = btnH + 'px';
        yesBtn.style.width = btnW + 'px';
        yesBtn.style.fontSize = fontSize + 'px';
        yesBtn.style.padding = '16px 36px';

        // Shrink the No button slightly
        const noScale = Math.max(0.5, 1 - noCount * 0.08);
        noBtn.style.transform = `scale(${noScale})`;

        // Update No button text
        noBtn.textContent = NO_MESSAGES[Math.min(noCount, NO_MESSAGES.length - 1)];

        // Shake the card
        question.classList.add('shake');
        setTimeout(() => question.classList.remove('shake'), 500);
      });

      yesBtn.addEventListener('click', () => {
        // Show celebration GIF
        gifDisplay.src = GIFS[GIFS.length - 1];

        // Hide buttons, show success
        buttons.style.display = 'none';
        question.style.display = 'none';
        successMsg.style.display = 'flex';

        // Heart confetti explosion!
        const heart = confetti.shapeFromPath({
          path: 'M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z',
        });

        const defaults = {
          spread: 360,
          ticks: 200,
          gravity: 0.3,
          decay: 0.95,
          startVelocity: 25,
          shapes: [heart],
          colors: ['#ff69b4', '#ff1493', '#ff6b81', '#e84393', '#fd79a8', '#e17055'],
          origin: { y: 0.6 },
        };

        // Multiple waves of confetti
        confetti({ ...defaults, particleCount: 80, scalar: 2.5 });
        confetti({ ...defaults, particleCount: 40, scalar: 3.5 });

        setTimeout(() => {
          confetti({ ...defaults, particleCount: 60, scalar: 2 });
          confetti({ ...defaults, particleCount: 30, scalar: 4 });
        }, 300);

        setTimeout(() => {
          confetti({ ...defaults, particleCount: 50, scalar: 2.5 });
        }, 600);

        // Keep confetti going for a bit
        let count = 0;
        const interval = setInterval(() => {
          confetti({
            ...defaults,
            particleCount: 20,
            scalar: 2,
            startVelocity: 15,
          });
          count++;
          if (count > 8) clearInterval(interval);
        }, 800);
      });

      // Create floating hearts background
      function createHeart() {
        const container = document.getElementById('heartsContainer');
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.innerHTML = ['&#10084;&#65039;', '&#128149;', '&#128151;', '&#128156;', '&#10083;&#65039;'][Math.floor(Math.random() * 5)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.fontSize = (16 + Math.random() * 20) + 'px';
        heart.style.animationDuration = (8 + Math.random() * 12) + 's';
        heart.style.animationDelay = Math.random() * 2 + 's';
        container.appendChild(heart);

        setTimeout(() => heart.remove(), 22000);
      }

      // Spawn hearts periodically
      for (let i = 0; i < 8; i++) {
        setTimeout(createHeart, i * 600);
      }
      setInterval(createHeart, 2000);
    })();
  </script>
</body>
</html>
